{% extends "layout.html" %}
{% block content %}
<h2>Dashboard</h2>
{% if me %}<p class="muted">Logged in as <strong>{{ me.name or me.email }}</strong></p>{% endif %}
<ul class="cards grid mt-16">
  {% for p in profiles %}
  <li class="card">
    <h3>{{ p.name or "Member " ~ p.id }}</h3>
    <p class="muted">{{ p.gender or "-" }}, {{ p.age or "-" }} years</p>
    <p>{{ (p.bio or "")[:120] }}</p>
    <form method="post" action="{{ url_for('report', uid=p.id) }}">
      <input type="hidden" name="reason" value="Flagged by user">
      <button class="btn btn-outline">Report</button>
    </form>
  </li>
  {% else %}
  <li class="card"><p>No profiles yet. Please check back later.</p></li>
  {% endfor %}
</ul>
{% endblock %}
